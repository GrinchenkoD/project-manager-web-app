(this["webpackJsonpproject-manager-web-app"]=this["webpackJsonpproject-manager-web-app"]||[]).push([[9],{100:function(e,t,a){"use strict";var n=a(10),s=a(94),r=a(31),c=a(93),i=(a(1),a(114)),o=a.n(i),u=a(124),l=a.n(u),d=a(4);t.a=function(e){var t=e.label,a=e.className,i=Object(r.a)(e,["label","className"]),u=Object(c.e)(i),b=Object(s.a)(u,2),j=b[0],p=b[1];return Object(d.jsxs)("div",{className:o.a.container,children:[Object(d.jsx)("input",Object(n.a)(Object(n.a)(Object(n.a)({className:l()("".concat(o.a.formControlInput),{isInvalid:p.error&&p.touched},a)},i),j),{},{required:!0})),Object(d.jsx)("label",{htmlFor:i.id,className:o.a.label,children:t}),Object(d.jsx)(c.a,{name:i.name,className:o.a.error})]})}},101:function(e,t,a){e.exports={acceptBtn:"ProjectForm_acceptBtn__2Cq4k",btnThumb:"ProjectForm_btnThumb__2HDk1"}},104:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return _}));var n=a(18),s=a.n(n),r=a(10),c=a(24),i=a(14),o=a.n(i),u=a(3),l=a(41),d=a(12),b=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},j=function(){o.a.defaults.headers.common.Authorization=""},p=function e(t,a){return function(){var n=Object(c.a)(s.a.mark((function n(c,i){var p,f,_,m,h,O;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(Object(d.b)()),p=i(),f=p.auth.token,b(f),n.prev=3,n.next=6,o.a.post("/sprint/".concat(t),a);case 6:_=n.sent,m=_.data,h=m.id,delete m.id,c(Object(d.c)(Object(r.a)(Object(r.a)({},m),{},{_id:h}))),n.next=21;break;case 13:if(n.prev=13,n.t0=n.catch(3),c(Object(d.a)(n.t0.message)),404!==(null===(O=n.t0.response)||void 0===O?void 0:O.status)){n.next=20;break}return j(),c(Object(u.f)()),n.abrupt("return");case 20:Object(l.a)((function(){return e(t,a)}),n.t0,c);case 21:case"end":return n.stop()}}),n,null,[[3,13]])})));return function(e,t){return n.apply(this,arguments)}}()},f=function e(t){return function(){var a=Object(c.a)(s.a.mark((function a(n,r){var c,i,u,j;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(d.k)()),c=r(),i=c.auth.token,b(i),a.prev=3,a.next=6,o.a.get("/sprint/".concat(t));case 6:u=a.sent,j=u.data,n(Object(d.l)(j.sprints)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),n(Object(d.j)(a.t0.message)),Object(l.a)((function(){return e(t)}),a.t0,n);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e,t){return a.apply(this,arguments)}}()},_=function e(t,a){return function(){var n=Object(c.a)(s.a.mark((function n(r,c){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(d.e)()),n.prev=1,n.next=4,o.a.patch("/sprint/title/".concat(t),{title:a});case 4:r(Object(d.f)({sprintId:t,title:a})),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),r(Object(d.d)(n.t0.message)),Object(l.a)((function(){return e(t,a)}),n.t0,r);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}()},m=function e(t){return function(){var a=Object(c.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(d.h)()),a.prev=1,a.next=4,o.a.delete("/sprint/".concat(t));case 4:n(Object(d.i)(t)),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),n(Object(d.g)(a.t0.message)),Object(l.a)((function(){return e(t)}),a.t0,n);case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}},105:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));var n=function(e){return e.projects.projectsItems},s=function(e){return e.projects.projectsLoading}},110:function(e,t,a){"use strict";var n=a(1),s=a(99),r=a(111),c=a.n(r),i=a(435),o=a(112),u=a.n(o),l=a(113),d=a.n(l),b=a(30),j=a(4);t.a=function(e){var t=e.onClose,a=e.onOpen,r=e.title,o=e.children,l=Object(n.useCallback)((function(e){if("Escape"===e.key)return t&&t()}),[t]);Object(n.useEffect)((function(){return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}}),[l]);var p=Object(n.useCallback)((function(e){e.target===e.currentTarget&&t&&t()}),[t]);return Object(b.createPortal)(Object(j.jsx)(i.a,{in:a,classNames:u.a,timeout:200,unmountOnExit:!0,children:function(e){return Object(j.jsx)("div",{className:c.a.overlay,onClick:p,children:Object(j.jsx)(i.a,{in:"entered"===e,timeout:250,classNames:d.a,mountOnEnter:!0,unmountOnExit:!0,children:Object(j.jsxs)("div",{className:c.a.thumb,children:[Object(j.jsx)("button",{className:c.a.closeBtn,onClick:t,children:Object(j.jsx)("svg",{className:c.a.closeSvg,children:Object(j.jsx)("use",{href:s.a+"#icon-close"})})}),Object(j.jsx)("h3",{className:c.a.title,children:r}),o,Object(j.jsx)("button",{className:c.a.cancelBtn,onClick:t,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})})})}}),document.getElementById("modalRoot"))}},111:function(e,t,a){e.exports={overlay:"TemporaryMdal_overlay__1UJQe",thumb:"TemporaryMdal_thumb__eh8tC",closeBtn:"TemporaryMdal_closeBtn__3lmvT",closeSvg:"TemporaryMdal_closeSvg__ZSBsr",title:"TemporaryMdal_title__15y1Y",cancelBtn:"TemporaryMdal_cancelBtn__3eCB2"}},112:function(e,t,a){e.exports={enter:"modalOverlayTransition_enter__3DWEg",enterActive:"modalOverlayTransition_enterActive__10zzt",exit:"modalOverlayTransition_exit__3EmOr",exitActive:"modalOverlayTransition_exitActive__2zoHG"}},113:function(e,t,a){e.exports={enter:"modalFormTransition_enter__3Uk9Q",enterActive:"modalFormTransition_enterActive__1WvST",exit:"modalFormTransition_exit__3OjKz",exitActive:"modalFormTransition_exitActive__1VqZV"}},114:function(e,t,a){e.exports={container:"FormControl_container__3Qu4e",label:"FormControl_label__8jcFP",formControlInput:"FormControl_formControlInput__1rv54",error:"FormControl_error__ybgiX"}},127:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var n=function(e){return e.sprints.sprintsItems},s=function(e){return e.sprints.sprintsLoading}},143:function(e,t,a){},159:function(e,t,a){"use strict";var n=a(10),s=a(94),r=a(1),c=a(93),i=a(22),o=a(9),u=a(104),l=a(102),d=l.b().shape({title:l.d().required("\u041e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),duration:l.a().positive().required("\u041e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")}),b=a(100),j=a(101),p=a.n(j),f=a(197),_=a.n(f),m=(a(183),a(143),a(144)),h=a.n(m),O=a(438),v=a(214),x=a.n(v),k=a(4);t.a=function(e){var t=e.onClose,a=Object(i.c)(),l=Object(o.h)().projectId,j=Object(r.useState)(null),f=Object(s.a)(j,2),m=f[0],v=f[1],g=Object(r.useState)(!1),T=Object(s.a)(g,2),y=T[0],N=T[1],P=Object(r.useCallback)((function(e){var s=Object(n.a)(Object(n.a)({},e),{},{endDate:h()(m,"yyyy-M-d")});a(Object(u.a)(l,s)),t()}),[a,l,t,m]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(c.d,{initialValues:{title:"",duration:""},validationSchema:d,onSubmit:P,children:Object(k.jsxs)(c.c,{children:[Object(k.jsx)(b.a,{label:"\u041d\u0430\u0437\u0432\u0430 \u0441\u043f\u0440\u0438\u043d\u0442\u0430",name:"title",type:"text",id:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0441\u043f\u0440\u0438\u043d\u0442\u0430"}),Object(k.jsxs)("div",{className:"div-datepicker",children:[Object(k.jsx)("input",{type:"checkbox",className:"custom-checkbox",id:"beforeDays",onClick:function(){N(!y)}}),Object(k.jsx)("label",{htmlFor:"beforeDays",className:"label-checkbox",children:"\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u0456 \u0434\u043d\u0456"}),Object(k.jsx)(_.a,{selected:m,onChange:function(e){v(e)},placeholderText:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044f",autoComplete:"false",dateFormat:m?m.toLocaleDateString("ua",{month:"long",day:"numeric"}):"",filterDate:function(e){var t=Object(O.a)(e);return 0!==t&&6!==t},locale:x.a,minDate:y?"":new Date,showDisabledMonthNavigation:!0})]}),Object(k.jsx)(b.a,{label:"\u0422\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c",name:"duration",type:"number",id:"duration",placeholder:"\u0422\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c"}),Object(k.jsx)("div",{className:p.a.btnThumb,children:Object(k.jsx)("button",{type:"submit",className:p.a.acceptBtn,children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]})})})}},416:function(e,t,a){e.exports={tasksContainer:"TasksPage_tasksContainer__1SBdp",showSprints:"TasksPage_showSprints__i0aOa",sprintsBackArrow:"TasksPage_sprintsBackArrow__2Txoa",sprintsBackText:"TasksPage_sprintsBackText__3Qetp",navigation:"TasksPage_navigation__3y1Yb",navDay:"TasksPage_navDay__10ynC",datePicker:"TasksPage_datePicker__2k6LT",navLeft:"TasksPage_navLeft__ec5_M",navRight:"TasksPage_navRight__2QgAy",navCurrentDay:"TasksPage_navCurrentDay__3lxun",navTotalDays:"TasksPage_navTotalDays__2ToKX",search:"TasksPage_search__2lTSc",searchInput:"TasksPage_searchInput__31bfv",searchMagnify:"TasksPage_searchMagnify__3vjhR",tasks:"TasksPage_tasks__2Jd4v",tasksTitle:"TasksPage_tasksTitle__2pqj3",tasksTitleText:"TasksPage_tasksTitleText__BHpRh",tasksTitleEdit:"TasksPage_tasksTitleEdit__3XrZV",btnEdit:"TasksPage_btnEdit__37bAI",changeForm:"TasksPage_changeForm__jtSLb",changeFormInput:"TasksPage_changeFormInput__2U66k",saveButtonIcon:"TasksPage_saveButtonIcon__1xWEs",tasksList:"TasksPage_tasksList__3_1NL",btnAdd:"TasksPage_btnAdd__NrP91",btnAddIcon:"TasksPage_btnAddIcon__3M2AL",btnGraph:"TasksPage_btnGraph__AZaUb",btnGraphIcon:"TasksPage_btnGraphIcon__dfIHT",sprintsListSection:"TasksPage_sprintsListSection__2RHoq",addProjectText:"TasksPage_addProjectText__1VtIh",tasksHeader:"TasksPage_tasksHeader__HD9x8",sprintsSideBar:"TasksPage_sprintsSideBar__3KIAq",sprintsBack:"TasksPage_sprintsBack__cT34P",sprintsList:"TasksPage_sprintsList__ui6HX",sprintListItem:"TasksPage_sprintListItem__z3O7c",sprintsLink:"TasksPage_sprintsLink___bDah",sprintLinkActive:"TasksPage_sprintLinkActive__2Xlej TasksPage_sprintsLink___bDah",sprintTitle:"TasksPage_sprintTitle__1mgb3",sprintBox:"TasksPage_sprintBox__3Vz3G",projectsBackText:"TasksPage_projectsBackText__3Yc7n",addSprint:"TasksPage_addSprint__3hYXR",btnAddSprint:"TasksPage_btnAddSprint__1KVKW",btnAddSprintIcon:"TasksPage_btnAddSprintIcon__a1-c6",addSprintText:"TasksPage_addSprintText__NEDF4",showGraphSection:"TasksPage_showGraphSection__zN4bX",container:"TasksPage_container__fQ3eA",addTaskSection:"TasksPage_addTaskSection__S04np",tasksHeaderTitle:"TasksPage_tasksHeaderTitle__2w99B",tasksHeaderPlanned:"TasksPage_tasksHeaderPlanned__2fT7y",tasksHeaderUsed:"TasksPage_tasksHeaderUsed__2OF3U",tasksHeaderTotal:"TasksPage_tasksHeaderTotal__38xe0",tasksNone:"TasksPage_tasksNone__3LPA5"}},417:function(e,t,a){e.exports={tasksListItem:"TasksPageItem_tasksListItem__3o_aP",zero:"TasksPageItem_zero__2YTn4",taskTitle:"TasksPageItem_taskTitle__3HDU1",planned:"TasksPageItem_planned__13fgO",used:"TasksPageItem_used__2QPet",total:"TasksPageItem_total__IL2XP",plannedTitle:"TasksPageItem_plannedTitle__1AGTM",plannedHours:"TasksPageItem_plannedHours__3ypSA",usedTitle:"TasksPageItem_usedTitle__2maF5",usedHours:"TasksPageItem_usedHours__38IA8",totalTitle:"TasksPageItem_totalTitle__31Xax",totalHours:"TasksPageItem_totalHours__2Djlk",btnCont:"TasksPageItem_btnCont__6quR2",btnDelete:"TasksPageItem_btnDelete__cigY3",btnDeleteIcon:"TasksPageItem_btnDeleteIcon__3evsX",hoursWastedInput:"TasksPageItem_hoursWastedInput__Ebg-u"}},428:function(e,t,a){e.exports={AnalyticBtn:"analytics_AnalyticBtn__2mqLN",graphicWrapper:"analytics_graphicWrapper__2XSMS"}},429:function(e,t,a){e.exports={graphicWrapper:"ChartModal_graphicWrapper__3MXKG",overlay:"ChartModal_overlay__1zRAG",modal:"ChartModal_modal__3bjwc",closeGraphicBtn:"ChartModal_closeGraphicBtn__1LU4G"}},430:function(e,t,a){e.exports={enter:"alert_enter__xhyAV",zoomIn:"alert_zoomIn__rZX97",enterActive:"alert_enterActive__3BDs6",exit:"alert_exit__1EUr5",zoomOut:"alert_zoomOut__U4WaO",exitActive:"alert_exitActive__2Cqan"}},434:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Oe}));var n=a(10),s=a(94),r=a(1),c=a(22),i=a(9),o=a(27),u=a(110),l=a(93),d=a(102),b=d.b().shape({title:d.d().required("\u041e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),hoursPlanned:d.a().max(8,"\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0437\u0430\u043f\u043b\u0430\u043d\u0443\u0432\u0430\u0442\u0438 \u0431i\u043b\u044c\u0448\u0435 8 \u0433\u043e\u0434\u0438\u043d \u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0443").positive().integer("\u0412\u0432\u0435\u0434i\u0442\u044c \u043ai\u043b\u044c\u043ai\u0441\u0442\u044c \u0433\u043e\u0434\u0438\u043d").required("\u041e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")}),j=a(100),p=a(101),f=a.n(p),_=a(18),m=a.n(_),h=a(24),O=a(14),v=a.n(O),x=a(41),k=a(7),g=function(e){v.a.defaults.headers.common.Authorization="Bearer ".concat(e)},T=function e(t,a){return function(){var s=Object(h.a)(m.a.mark((function s(r,c){var i,o,u,l,d;return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r(Object(k.e)()),i=c(),o=i.auth.token,g(o),s.prev=3,s.next=6,v.a.post("/task/".concat(t),a);case 6:u=s.sent,l=u.data,d=l.id,delete l.id,r(Object(k.f)(Object(n.a)(Object(n.a)({},l),{},{_id:d}))),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(3),r(Object(k.d)(s.t0.message)),Object(x.a)((function(){return e(t,a)}),s.t0,r);case 17:case"end":return s.stop()}}),s,null,[[3,13]])})));return function(e,t){return s.apply(this,arguments)}}()},y=function e(t){return function(){var a=Object(h.a)(m.a.mark((function a(n,s){var r,c,i,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(k.o)()),r=s(),c=r.auth.token,g(c),a.prev=3,a.next=6,v.a.get("/task/".concat(t));case 6:i=a.sent,o=i.data,n(Object(k.p)(o)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),n(Object(k.n)(a.t0.message)),Object(x.a)((function(){return e(t)}),a.t0,n);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})));return function(e,t){return a.apply(this,arguments)}}()},N=function e(t){return function(){var a=Object(h.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(k.h)()),a.prev=1,a.next=4,v.a.delete("/task/".concat(t));case 4:n(Object(k.i)(t)),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),n(Object(k.g)(a.t0.message)),Object(x.a)((function(){return e(t)}),a.t0,n);case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},P=a(4),D=function(e){var t=e.onClose,a=Object(c.c)(),n=Object(i.h)().sprintId,s=Object(r.useCallback)((function(e){a(T(n,e)),t()}),[a,n,t]);return Object(P.jsx)(l.d,{initialValues:{title:"",hoursPlanned:""},validationSchema:b,onSubmit:s,children:Object(P.jsxs)(l.c,{children:[Object(P.jsx)(j.a,{label:"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0434\u0430\u0447\u0456",name:"title",type:"title",id:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0437\u0430\u0434\u0430\u0447\u0456"}),Object(P.jsx)(j.a,{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e \u0433\u043e\u0434\u0438\u043d",name:"hoursPlanned",type:"number",id:"hoursPlanned",placeholder:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e \u0433\u043e\u0434\u0438\u043d"}),Object(P.jsx)("div",{className:f.a.btnThumb,children:Object(P.jsx)("button",{type:"submit",className:f.a.acceptBtn,children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]})})},w=a(104),C=a(99),S=a.p+"static/media/addBtn.3ce584ae.png",I=a.p+"static/media/analytics.ea4391da.png",A=a.p+"static/media/sprintBox.4d29b0ae.png",B=a(416),L=a.n(B),H=a(417),E=a.n(H);function F(e){var t=Object(c.c)(),a=Object(r.useState)(0),n=Object(s.a)(a,2),i=n[0],o=n[1];Object(r.useEffect)((function(){var t;o(null===(t=e.hoursWastedPerDay.find((function(t){return new Date(t.currentDay).getDate()===new Date(e.currentDay).getDate()})))||void 0===t?void 0:t.singleHoursWasted)}),[e]);return Object(P.jsxs)("li",{className:E.a.tasksListItem,children:[Object(P.jsx)("h5",{className:E.a.taskTitle,children:e.title}),Object(P.jsxs)("div",{className:E.a.planned,children:[Object(P.jsx)("p",{className:E.a.plannedTitle,children:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e \u0433\u043e\u0434\u0438\u043d "}),Object(P.jsx)("p",{className:E.a.plannedHours,children:e.hoursPlanned})]}),Object(P.jsxs)("div",{className:E.a.used,children:[Object(P.jsx)("p",{className:E.a.usedTitle,children:"\u0412\u0438\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0433\u043e\u0434/\u0434\u0435\u043d\u044c "}),e.isDisabled?Object(P.jsx)("p",{className:E.a.hoursWastedInput,children:Object(P.jsx)("span",{className:E.a.zero,children:" 0 "})}):Object(P.jsx)("input",{className:E.a.hoursWastedInput,type:"number",value:i,onChange:function(e){var a=Number(e.target.value);if(!(a>8||a<0)){var n=new Date(Number(e.target.dataset.date)),s="".concat(n.getFullYear(),"-").concat((n.getMonth()+1).toString().padStart(2,"0"),"-").concat(n.getDate().toString().padStart(2,"0")),r=e.target.id;a&&o(a),t(function(e,t,a){return function(){var n=Object(h.a)(m.a.mark((function n(s){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Object(k.b)()),n.prev=1,n.next=4,v.a.patch("/task/".concat(e),{date:a,hours:t});case 4:r=n.sent,c=r.data,s(Object(k.c)({currentDay:c.day.currentDay,singleHoursWasted:c.day.singleHoursWasted,hoursWasted:c.newWastedHours,taskId:e})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),s(Object(k.a)(n.t0));case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()}(r,a,s))}},"data-date":e.currentDay,id:e._id})]}),Object(P.jsxs)("div",{className:E.a.total,children:[Object(P.jsx)("p",{className:E.a.totalTitle,children:"\u0412\u0438\u0442\u0440\u0430\u0447\u0435\u043d\u043e \u0433\u043e\u0434\u0438\u043d (\u0437\u0430\u0433\u0430\u043b.)"}),Object(P.jsx)("p",{className:E.a.totalHours,children:e.hoursWasted})]}),Object(P.jsx)("div",{className:E.a.btnCont,children:Object(P.jsx)("button",{"data-id":e._id,type:"button",className:E.a.btnDelete,onClick:function(){return t(N(e._id))},children:Object(P.jsx)("svg",{className:E.a.btnDeleteIcon,children:Object(P.jsx)("use",{href:C.a+"#icon-delete"})})})})]},e._id)}var W=a(33),M=function(e){return e.tasks.tasksItems},z=function(e){return e.tasks.tasksLoading},G=function(e){return M(e)[0].hoursWastedPerDay.length},q=Object(W.a)([M],(function(e){return e.map((function(e){return Number(e.hoursPlanned)})).reduce((function(e,t){return e+t}),0)})),U=(Object(W.a)([M],(function(e){return e.map((function(e){return Number(e.hoursWasted)})).reduce((function(e,t){return e+t}),0)})),Object(W.a)([M],(function(e){return e[0].hoursWastedPerDay.map((function(e){return e.currentDay}))}))),R=function(e){return function(e){return e.sprints}(e).sprintsItems},X=Object(W.a)([function(e,t){return t},R],(function(e,t){return t.find((function(t){return t._id===e.sprintId}))})),V=a(159),Q=a(98),Y=a(127),Z=a(105),K=a(418),J=a(142),$=a(157),ee=a.n($),te=(a(427),function(e){var t=ae(e);return t.unshift("\u041f\u043b\u0430\u043d\u0443\u0432\u0430\u043d\u043d\u044f"),t}),ae=function(e){return e.map((function(e){return ne(e)}))},ne=function(e){var t=ee()(se(e)).locale("uk").format("DD MMMM").split(""),a=t[3].toUpperCase();return t.splice(3,1,a),t.join("")},se=function(e){var t=e.split("."),a=Object(s.a)(t,2),n=a[0],r=a[1];return t[0]=r,t[1]=n,t.join(".")},re=function(e,t){for(var a=[e],n=e/t,s=e,r=0;r<t;r+=1)a.push((s-n).toFixed(2)),s-=n;return a},ce=function(e,t,a){var n,s=ie(t,a),r=[e],c=e,i=Object(J.a)(s);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push((c-o).toFixed(2)),c-=o}}catch(u){i.e(u)}finally{i.f()}return r},ie=function(e,t){for(var a=[],n=0;n<e;n+=1){var s,r=0,c=Object(J.a)(t);try{for(c.s();!(s=c.n()).done;){var i=s.value;r+=oe(i,n)}}catch(o){c.e(o)}finally{c.f()}a.push(r)}return a},oe=function(e,t){return Number(function(e){var t=e.hoursPlanned,a=e.hoursWasted;return t>=a?e.hoursWastedPerDay:e.hoursWastedPerDay.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{singleHoursWasted:t/a*e.singleHoursWasted})}))}(e)[t].singleHoursWasted)},ue=a(428),le=a.n(ue),de=Object(c.b)((function(e,t){return{hoursPlanned:q(e),sprintDuration:G(e),chartDays:U(e),itemsArr:M(e),sprint:X(e,t.params)}}))((function(e){var t=e.hoursPlanned,a=e.sprintDuration,n=e.chartDays,c=e.itemsArr,i=e.sprint,o=Object(r.useState)({}),u=Object(s.a)(o,2),l=u[0],d=u[1],b={layout:{padding:{left:0,right:10,top:20,bottom:10}},responsive:!0,title:{display:!0,text:i.title,fontColor:"#181C27",fontFamily:"'Montserrat', 'sans-serif'",fontSize:20,padding:0},elements:{line:{borderWidth:2},point:{pointStyle:"circle",borderWidth:2,hoverRadius:5,hoverBackgroundColor:"rgba(255, 255, 255, 0.2)",hoverBorderWidth:2,radius:2,hitRadius:10}},tooltips:{mode:"index",titleFontSize:14,titleMarginBottom:10,bodyFontFamily:"'Montserrat', 'sans-serif'",bodyFontSize:14,bodySpacing:5,bodyAlign:"center",xPadding:8,yPadding:8,caretPadding:5,caretSize:10,cornerRadius:5,callbacks:{label:function(e){var t=e.value;return t="  "+t,t}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"\u041b\u044e\u0434\u0438\u043d\u043e-\u0433\u043e\u0434\u0438\u043d\u0438",fontFamily:"'Montserrat', 'sans-serif'",fontSize:14,fontColor:"#181C27"},ticks:{beginAtZero:!0,fontSize:14,fontColor:"#181C27"},gridLines:{display:!0}}],xAxes:[{gridLines:{display:!1},ticks:{beginAtZero:!1,fontSize:14,fontColor:"#181C27"}}]},legend:{display:!0,fullWidth:!1,labels:{fontColor:"#181C27",fontFamily:"'Montserrat', 'sans-serif'",fontSize:14,boxWidth:5,usePointStyle:!0,padding:20}}};return Object(r.useEffect)((function(){d({labels:te(n),datasets:[{label:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u0438\u0439 \u0437\u0430\u043b\u0438\u0448\u043e\u043a \u0442\u0440\u0443\u0434\u043e\u0432\u0438\u0442\u0440\u0430\u0442",fill:!1,lineTension:0,borderColor:"rgb(255, 0, 0)",backgroundColor:"rgb(255, 0, 0)",data:re(t,a)},{label:"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u0439 \u0437\u0430\u043b\u0438\u0448\u043e\u043a \u0442\u0440\u0443\u0434\u043e\u0432\u0438\u0442\u0440\u0430\u0442 \u0443 \u0433\u043e\u0434\u0438\u043d\u0430\u0445",fill:!1,lineTension:.3,borderColor:"rgb(0, 89, 255)",backgroundColor:"rgb(0, 89, 255)",data:ce(t,a,c)}]})}),[]),Object(P.jsx)("div",{className:le.a.graphicWrapper,children:Object(P.jsx)(K.Line,{options:b,data:l})})})),be=a(429),je=a.n(be),pe=function(e){var t=e.onClose,a=Object(i.h)();Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&(console.log(e.code),t(),s())},s=function(){document.querySelector("body").style.overflow="unset"};return Object(P.jsx)("div",{className:je.a.overlay,onClick:function(e){e.currentTarget===e.target&&(t(),s())},children:Object(P.jsxs)("div",{className:je.a.modal,children:[Object(P.jsx)(de,{params:a}),Object(P.jsx)("button",{type:"button",className:je.a.closeGraphicBtn,onClick:function(e){"BUTTON"===e.target.nodeName&&t(),s()}})]})})},fe=a(435),_e=a(430),me=a.n(_e),he=a(42);function Oe(){var e,t,a,l=Object(c.c)(),d=Object(r.useState)(!1),b=Object(s.a)(d,2),j=b[0],p=b[1],f=Object(r.useState)(!1),_=Object(s.a)(f,2),m=_[0],h=_[1],O=Object(i.h)().sprintId,v=Object(r.useState)(!1),x=Object(s.a)(v,2),k=x[0],g=x[1],T=Object(c.d)(Y.a),N=T.find((function(e){return e._id===O})),B=Object(i.h)().projectId,H=Object(c.d)(Z.b).find((function(e){return e._id===B})),E=Object(c.d)(z),W=Object(c.d)(Y.b),G=Object(r.useState)(!0),q=Object(s.a)(G,2),U=q[0],R=q[1],X=Object(r.useState)(),K=Object(s.a)(X,2),J=K[0],$=K[1],ee=Object(r.useState)(!1),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],se=Object(c.d)(M),re=null===(e=T.find((function(e){return e._id===O})))||void 0===e?void 0:e.startDate,ce=null===(t=T.find((function(e){return e._id===O})))||void 0===t?void 0:t.duration,ie=null===(a=T.find((function(e){return e._id===O})))||void 0===a?void 0:a.endDate,oe=Object(r.useState)(""),ue=Object(s.a)(oe,2),le=ue[0],de=ue[1],be=864e5,je=Object(c.d)((function(e){return e.tasks.currentDay})),_e=Object(r.useState)(Date.now()),Oe=Object(s.a)(_e,2),ve=Oe[0],xe=Oe[1],ke=Object(r.useState)(0),ge=Object(s.a)(ke,2),Te=ge[0],ye=ge[1],Ne=se.filter((function(e){return e.title.includes(le.toLowerCase())}));Object(r.useEffect)((function(){l(y(O)),l(Object(Q.d)()),l(Object(w.c)(B))}),[l,O,B]);var Pe=function(){p(!1),document.body.style.overflow=""},De=function(){g(!1),document.body.style.overflow=""};return Object(r.useEffect)((function(){var e=(Date.now()-Date.parse(re))/be;ye(Math.floor(e+1))}),[re,be]),Object(r.useEffect)((function(){xe(je)}),[je,O]),console.log(Date.parse(re)),console.log(ve),Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:L.a.tasksContainer,children:[Object(P.jsxs)("div",{className:L.a.sprintsSideBar,children:[Object(P.jsx)("div",{className:L.a.showSprints,children:Object(P.jsxs)(o.b,{to:"/projects/".concat(null===H||void 0===H?void 0:H._id),className:L.a.sprintsLink,activeClassName:L.a.sprintLinkActive,children:[Object(P.jsx)("svg",{className:L.a.sprintsBackArrow,children:Object(P.jsx)("use",{href:C.a+"#arrow-left"})}),Object(P.jsx)("div",{className:L.a.sprintsBack,children:Object(P.jsx)("p",{className:L.a.sprintsBackText,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u0441\u043f\u0440\u0438\u043d\u0442\u0438"})})]})}),Object(P.jsxs)("div",{className:L.a.sprintsListSection,children:[Object(P.jsx)("ul",{className:L.a.sprintsList,children:T.map((function(e){return Object(P.jsx)("li",{className:L.a.sprintListItem,children:Object(P.jsxs)(o.b,{to:"/projects/".concat(H._id,"/sprints/").concat(e._id),className:L.a.sprintsLink,activeClassName:L.a.sprintLinkActive,children:[Object(P.jsx)("img",{src:A,alt:"",className:L.a.sprintBox}),Object(P.jsx)("span",{className:L.a.sprintTitle,children:e.title})]})},e._id)}))}),Object(P.jsxs)("div",{className:L.a.addSprint,children:[Object(P.jsx)("button",{type:"button",className:L.a.btnAddSprint,onClick:function(){g(!0),document.body.style.overflow="hidden"},children:Object(P.jsx)("img",{src:S,alt:"",className:L.a.btnAddSprintIcon})}),Object(P.jsx)("p",{className:L.a.addSprintText,children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0441\u043f\u0440\u0438\u043d\u0442"})]}),Object(P.jsx)(u.a,{onClose:De,onOpen:k,title:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443",children:Object(P.jsx)(V.a,{onClose:De})})]})]}),Object(P.jsxs)("div",{className:L.a.container,children:[Object(P.jsxs)("div",{className:L.a.navigation,children:[Object(P.jsxs)("div",{className:L.a.datePicker,children:[!!Te&&!!ce&&Date.parse(re)<=new Date(ve)&&Object(P.jsxs)("div",{className:L.a.navDay,children:[Object(P.jsx)("button",{type:"button",className:L.a.navLeft,onClick:function(){new Date(re).getDate()!==new Date(ve).getDate()&&(xe((function(e){return e-be})),ye((function(e){return e-1})))},disabled:new Date(re).getDate()===new Date(ve).getDate(),children:"\u1438"}),Object(P.jsxs)("p",{className:L.a.navCurrentDay,children:[" ",Te," "]}),Object(P.jsx)("span",{children:" / "}),Object(P.jsxs)("p",{className:L.a.navTotalDays,children:[ce," "]}),Object(P.jsx)("button",{type:"button",className:L.a.navRight,onClick:function(){new Date(ie).getDate()!==new Date(ve).getDate()&&(xe((function(e){return e+be})),ye((function(e){return e+1})))},disabled:new Date(ie).getDate()===new Date(ve).getDate(),children:"\u1433"})]}),Object(P.jsx)("p",{className:L.a.navDate,children:new Date(ve).toJSON().slice(0,10).split("-").reverse().join(".")})]}),Object(P.jsxs)("div",{className:L.a.search,children:[Object(P.jsx)("input",{name:"filter",type:"text",autoComplete:"off",placeholder:"\u043f\u043e\u0448\u0443\u043a...",className:L.a.searchInput,onChange:function(e){return de(e.target.value)}}),Object(P.jsx)("svg",{className:L.a.searchMagnify,children:Object(P.jsx)("use",{href:C.a+"#magnify-glass"})})]})]}),Object(P.jsxs)("div",{className:L.a.tasks,children:[Object(P.jsxs)("div",{className:L.a.tasksTitle,children:[Object(P.jsx)(fe.a,{in:ae,unmountOnExit:!0,mountOnEnter:!0,timeout:200,classNames:me.a,children:Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(Object(w.d)(O,J)),R(!U)},className:L.a.changeForm,children:[Object(P.jsx)("input",{type:"text",name:"edit",autoComplete:"off",value:J,onChange:function(e){$(e.target.value)},className:L.a.changeFormInput}),Object(P.jsx)("button",{type:"submit",className:L.a.saveButtonIcon})]})}),Object(P.jsx)(fe.a,{classNames:me.a,in:U,timeout:200,unmountOnExit:!0,mountOnEnter:!0,onExited:function(){return ne(!0)},onEnter:function(){return ne(!1)},children:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("p",{className:L.a.tasksTitleText,children:null===N||void 0===N?void 0:N.title}),Object(P.jsx)("button",{type:"button",className:L.a.tasksTitleEdit,onClick:function(e){R(!U),$(N.title)},children:Object(P.jsx)("svg",{className:L.a.btnEdit,children:Object(P.jsx)("use",{href:C.a+"#icon-edit"})})})]})})]}),Object(P.jsxs)("div",{className:L.a.tasksHeader,children:[Object(P.jsx)("p",{className:L.a.tasksHeaderTitle,children:"\u0417\u0430\u0434\u0430\u0447\u0430 "}),Object(P.jsx)("p",{className:L.a.tasksHeaderPlanned,children:"\u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e \u0433\u043e\u0434\u0438\u043d"}),Object(P.jsx)("p",{className:L.a.tasksHeaderUsed,children:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043e \u0433\u043e\u0434/\u0434\u0435\u043d\u044c "}),Object(P.jsx)("p",{className:L.a.tasksHeaderTotal,children:"\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043e \u0433\u043e\u0434\u0438\u043d (\u0437\u0430\u0433\u0430\u043b.)"})]}),se.length||E?Object(P.jsx)("ul",{className:L.a.tasksList,children:E||W?Object(P.jsx)(he.a,{}):Ne.length&&Ne.map((function(e){return Object(r.createElement)(F,Object(n.a)(Object(n.a)({},e),{},{key:e._id,currentDay:ve,isDisabled:new Date(re).getDate()>new Date(ve).getDate()}))}))}):Object(P.jsx)("h2",{className:L.a.tasksNone,children:'\u0423 \u0441\u043f\u0440\u0438\u043d\u0442\u0456 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456 \u0437\u0430\u0434\u0430\u0447\u0456, \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u043e\u044e "\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443"'}),Object(P.jsxs)("div",{className:L.a.addTaskSection,children:[Object(P.jsx)("button",{type:"button",className:L.a.btnAdd,onClick:function(){p(!0),document.body.style.overflow="hidden"},children:Object(P.jsx)("img",{src:S,alt:"",className:L.a.btnAddIcon})}),Object(P.jsx)("p",{className:L.a.addProjectText,children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443"})]}),Object(P.jsx)(u.a,{onClose:Pe,onOpen:j,title:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0437\u0430\u0434\u0430\u0447i",children:Object(P.jsx)(D,{onClose:Pe})}),Object(P.jsxs)("div",{className:L.a.showGraphSection,children:[se.length>2&&Object(P.jsx)("button",{type:"button",onClick:function(){return h(!0)},className:L.a.btnGraph,children:Object(P.jsx)("img",{src:I,alt:"",className:L.a.btnGraphIcon})}),m&&Object(P.jsx)(pe,{onClose:function(){return h(!1)}})]})]})]})]})})}},98:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return j})),a.d(t,"a",(function(){return p})),a.d(t,"e",(function(){return f})),a.d(t,"c",(function(){return _}));var n=a(18),s=a.n(n),r=a(10),c=a(24),i=a(14),o=a.n(i),u=a(41),l=a(5),d=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},b=function e(t){return function(){var a=Object(c.a)(s.a.mark((function a(n){var c,i,d;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(l.e)()),a.prev=1,a.next=4,o.a.post("/project",t);case 4:c=a.sent,i=c.data,d=i.id,delete i.id,n(Object(l.f)(Object(r.a)(Object(r.a)({},i),{},{_id:d}))),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n(Object(l.d)(a.t0.message)),Object(u.a)((function(){return e(t)}),a.t0,n);case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()},j=function e(){return function(){var t=Object(c.a)(s.a.mark((function t(a,n){var r,c,i,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.auth.token,d(c),a(Object(l.n)()),t.prev=3,t.next=6,o.a.get("/project");case 6:i=t.sent,b=i.data,a(Object(l.o)(b)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),a(Object(l.m)(t.t0.message)),Object(u.a)(e,t.t0,a);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,a){return t.apply(this,arguments)}}()},p=function e(t,a){return function(){var n=Object(c.a)(s.a.mark((function n(r){var c,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(l.b)()),n.prev=1,n.next=4,o.a.patch("/project/contributor/".concat(t),a);case 4:c=n.sent,i=c.data,r(Object(l.c)({members:i.newMembers,projectId:t})),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),r(Object(l.a)(n.t0.message)),Object(u.a)((function(){return e(t,a)}),n.t0,r);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}()},f=function e(t,a){return function(){var n=Object(c.a)(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(l.h)()),n.prev=1,n.next=4,o.a.patch("/project/title/".concat(t),{title:a});case 4:r(Object(l.i)({projectId:t,title:a})),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),r(Object(l.g)(n.t0.message)),Object(u.a)((function(){return e(t,a)}),n.t0,r);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()},_=function e(t){return function(){var a=Object(c.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Object(l.k)()),a.prev=1,a.next=4,o.a.delete("/project/".concat(t));case 4:n(Object(l.l)(t)),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),n(Object(l.j)(a.t0.message)),Object(u.a)((function(){return e(t)}),a.t0,n);case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}},99:function(e,t,a){"use strict";t.a=a.p+"static/media/symbol-defs.b8a53153.svg"}}]);
//# sourceMappingURL=tasks-page.d668959c.chunk.js.map