(this["webpackJsonpproject-manager-web-app"]=this["webpackJsonpproject-manager-web-app"]||[]).push([[5],{100:function(e,t,n){"use strict";var c=n(10),r=n(94),a=n(31),o=n(93),i=(n(1),n(114)),s=n.n(i),l=n(124),u=n.n(l),d=n(4);t.a=function(e){var t=e.label,n=e.className,i=Object(a.a)(e,["label","className"]),l=Object(o.e)(i),j=Object(r.a)(l,2),b=j[0],p=j[1];return Object(d.jsxs)("div",{className:s.a.container,children:[Object(d.jsx)("input",Object(c.a)(Object(c.a)(Object(c.a)({className:u()("".concat(s.a.formControlInput),{isInvalid:p.error&&p.touched},n)},i),b),{},{required:!0})),Object(d.jsx)("label",{htmlFor:i.id,className:s.a.label,children:t}),Object(d.jsx)(o.a,{name:i.name,className:s.a.error})]})}},101:function(e,t,n){e.exports={acceptBtn:"ProjectForm_acceptBtn__2Cq4k",btnThumb:"ProjectForm_btnThumb__2HDk1"}},105:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var c=function(e){return e.projects.projectsItems},r=function(e){return e.projects.projectsLoading}},110:function(e,t,n){"use strict";var c=n(1),r=n(99),a=n(111),o=n.n(a),i=n(435),s=n(112),l=n.n(s),u=n(113),d=n.n(u),j=n(30),b=n(4);t.a=function(e){var t=e.onClose,n=e.onOpen,a=e.title,s=e.children,u=Object(c.useCallback)((function(e){if("Escape"===e.key)return t&&t()}),[t]);Object(c.useEffect)((function(){return window.addEventListener("keydown",u),function(){window.removeEventListener("keydown",u)}}),[u]);var p=Object(c.useCallback)((function(e){e.target===e.currentTarget&&t&&t()}),[t]);return Object(j.createPortal)(Object(b.jsx)(i.a,{in:n,classNames:l.a,timeout:200,unmountOnExit:!0,children:function(e){return Object(b.jsx)("div",{className:o.a.overlay,onClick:p,children:Object(b.jsx)(i.a,{in:"entered"===e,timeout:250,classNames:d.a,mountOnEnter:!0,unmountOnExit:!0,children:Object(b.jsxs)("div",{className:o.a.thumb,children:[Object(b.jsx)("button",{className:o.a.closeBtn,onClick:t,children:Object(b.jsx)("svg",{className:o.a.closeSvg,children:Object(b.jsx)("use",{href:r.a+"#icon-close"})})}),Object(b.jsx)("h3",{className:o.a.title,children:a}),s,Object(b.jsx)("button",{className:o.a.cancelBtn,onClick:t,children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})})})}}),document.getElementById("modalRoot"))}},111:function(e,t,n){e.exports={overlay:"TemporaryMdal_overlay__1UJQe",thumb:"TemporaryMdal_thumb__eh8tC",closeBtn:"TemporaryMdal_closeBtn__3lmvT",closeSvg:"TemporaryMdal_closeSvg__ZSBsr",title:"TemporaryMdal_title__15y1Y",cancelBtn:"TemporaryMdal_cancelBtn__3eCB2"}},112:function(e,t,n){e.exports={enter:"modalOverlayTransition_enter__3DWEg",enterActive:"modalOverlayTransition_enterActive__10zzt",exit:"modalOverlayTransition_exit__3EmOr",exitActive:"modalOverlayTransition_exitActive__2zoHG"}},113:function(e,t,n){e.exports={enter:"modalFormTransition_enter__3Uk9Q",enterActive:"modalFormTransition_enterActive__1WvST",exit:"modalFormTransition_exit__3OjKz",exitActive:"modalFormTransition_exitActive__1VqZV"}},114:function(e,t,n){e.exports={container:"FormControl_container__3Qu4e",label:"FormControl_label__8jcFP",formControlInput:"FormControl_formControlInput__1rv54",error:"FormControl_error__ybgiX"}},158:function(e,t,n){"use strict";var c=n(1),r=n(93),a=n(22),o=n(98),i=n(102),s=i.b().shape({title:i.d().trim().required("\u041e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),description:i.d().required("\u041e\u0431\u043e\u0432`\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")}),l=n(100),u=n(101),d=n.n(u),j=function(e){return e.loader},b=n(4);t.a=function(e){var t=e.onClose,n=Object(a.c)(),i=Object(a.d)(j),u=Object(c.useCallback)((function(e){n(Object(o.b)(e)),t()}),[n,t]);return Object(b.jsx)(r.d,{initialValues:{title:"",description:""},validationSchema:s,onSubmit:u,children:Object(b.jsxs)(r.c,{children:[Object(b.jsx)(l.a,{label:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0443",name:"title",type:"text",id:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0443"}),Object(b.jsx)(l.a,{label:"\u041e\u043f\u0438\u0441",name:"description",type:"text",id:"description",placeholder:"\u041e\u043f\u0438\u0441"}),Object(b.jsx)("div",{className:d.a.btnThumb,children:Object(b.jsx)("button",{type:"submit",disabled:i,className:d.a.acceptBtn,children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]})})}},323:function(e,t,n){e.exports={projectInfo:"ProjectsPageItem_projectInfo__3_IrA",projectTitle:"ProjectsPageItem_projectTitle__3giAd",projectDescription:"ProjectsPageItem_projectDescription__1IYJq",btnDelete:"ProjectsPageItem_btnDelete__3CMCM",btnDeleteIcon:"ProjectsPageItem_btnDeleteIcon__2xBxW"}},324:function(e,t,n){e.exports={enter:"pop_enter__2Nviy",enterActive:"pop_enterActive__1nncB",exit:"pop_exit__3gTmj",exitActive:"pop_exitActive__2xtoz"}},325:function(e,t,n){e.exports={container:"ProjectsPage_container__1xQaL",title:"ProjectsPage_title__9rmYa",projectsList:"ProjectsPage_projectsList__1vk1M",projectsListItem:"ProjectsPage_projectsListItem__2n9fj",btnAdd:"ProjectsPage_btnAdd__2YcGn",btnAddIcon:"ProjectsPage_btnAddIcon__371Nx",iconExit:"ProjectsPage_iconExit__2tV4E",addProjectText:"ProjectsPage_addProjectText__3mkwP",projectDescription:"ProjectsPage_projectDescription__1WZ8g",projectsNone:"ProjectsPage_projectsNone__3WzmM"}},436:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var c=n(10),r=n(94),a=n(1),o=n.n(a),i=n(22),s=n(9),l=n(15),u=n(8);var d=n(19),j=(n(26),n(181));function b(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function p(e,t,n){return null!=n[t]?n[t]:e.props[t]}function m(e,t,n){var c=b(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var c,r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var i={};for(var s in t){if(r[s])for(c=0;c<r[s].length;c++){var l=r[s][c];i[r[s][c]]=n(l)}i[s]=n(s)}for(c=0;c<a.length;c++)i[a[c]]=n(a[c]);return i}(t,c);return Object.keys(r).forEach((function(o){var i=r[o];if(Object(a.isValidElement)(i)){var s=o in t,l=o in c,u=t[o],d=Object(a.isValidElement)(u)&&!u.props.in;!l||s&&!d?l||!s||d?l&&s&&Object(a.isValidElement)(u)&&(r[o]=Object(a.cloneElement)(i,{onExited:n.bind(null,i),in:u.props.in,exit:p(i,"exit",e),enter:p(i,"enter",e)})):r[o]=Object(a.cloneElement)(i,{in:!1}):r[o]=Object(a.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:p(i,"exit",e),enter:p(i,"enter",e)})}})),r}var f=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},O=function(e){function t(t,n){var c,r=(c=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(c));return c.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},c}Object(d.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,c,r=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,c=o,b(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:c.bind(null,e),in:!0,appear:p(e,"appear",n),enter:p(e,"enter",n),exit:p(e,"exit",n)})}))):m(e,r,o),firstRender:!1}},n.handleExited=function(e,t){var n=b(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(u.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,c=Object(l.a)(e,["component","childFactory"]),r=this.state.contextValue,a=f(this.state.children).map(n);return delete c.appear,delete c.enter,delete c.exit,null===t?o.a.createElement(j.a.Provider,{value:r},a):o.a.createElement(j.a.Provider,{value:r},o.a.createElement(t,c,a))},t}(o.a.Component);O.propTypes={},O.defaultProps={component:"div",childFactory:function(e){return e}};var _=O,h=n(435),x=n(98),v=n(99),g=n(323),y=n.n(g),P=n(4);function N(e){var t=e._id,n=e.title,c=e.color,r=e.children,a=Object(i.c)();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:y.a.projectInfo,children:[Object(P.jsx)("h4",{className:y.a.projectTitle,children:n}),Object(P.jsx)("p",{className:y.a.projectDescription,children:r}),Object(P.jsx)("button",{type:"button",className:y.a.btnDelete,onClick:function(e){a(Object(x.c)(t))},"data-process":"delete",children:Object(P.jsx)("svg",{className:y.a.btnDeleteIcon,style:{fill:c},children:Object(P.jsx)("use",{href:v.a+"#icon-bin"})})})]})})}var k=n(110),E=n(158),T=n(105),C=n(324),I=n.n(C),w=n(325),F=n.n(w),A=n(42),D=["#8c72df","#FF765F","#71DF87","#f78335","#f3be2e","#e46cde","#4394f1","#d45535"],B=D[0],M=0;function S(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],o=t[1],l=Object(s.g)(),u=Object(i.c)(),d=Object(s.i)(),j=Object(i.d)(T.a);Object(a.useEffect)((function(){u(Object(x.d)())}),[u]);var b=function(){o(!1),document.body.style.overflow=""},p=function(e){e.target.closest('[data-process="delete"]')||l.push("".concat(d.url,"/").concat(e.currentTarget.id))},m=Object(i.d)(T.b);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:F.a.container,children:Object(P.jsxs)("div",{className:"projects",children:[Object(P.jsx)("h2",{className:F.a.title,children:"\u041f\u0440\u043e\u0435\u043a\u0442\u0438"}),m.length||j?Object(P.jsx)(_,{component:"ul",className:F.a.projectsList,children:m.map((function(e){return Object(P.jsx)(h.a,{timeout:200,classNames:I.a,children:Object(P.jsx)("li",{className:F.a.projectsListItem,id:e._id?e._id:e.id,style:{backgroundColor:M<D.length?(B=D[M],M+=1,B):(M=0,B=D[0])},onClick:p,children:Object(P.jsx)(N,Object(c.a)(Object(c.a)({},e),{},{color:B,children:Object(P.jsx)("span",{className:F.a.projectDescription,children:e.description})}))},e._id)},e._id)}))}):Object(P.jsx)("p",{className:F.a.projectsNone,children:'\u0412\u0430\u0448\u0430 \u043a\u043e\u043b\u0435\u043a\u0446\u0456\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0456\u0432 \u043f\u043e\u0440\u043e\u0436\u043d\u044f, \u0441\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044c \u043a\u043d\u043e\u043f\u043a\u043e\u044e "\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0440\u043e\u0435\u043a\u0442"'}),Object(P.jsxs)("div",{className:"addProjectSection",children:[Object(P.jsx)("button",{type:"button",className:F.a.btnAdd,onClick:function(){document.body.style.overflow="hidden",o(!0)},children:Object(P.jsx)("p",{className:F.a.btnAddIcon,children:"+"})}),Object(P.jsx)("p",{className:F.a.addProjectText,children:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043f\u0440\u043e\u0435\u043a\u0442"})]}),Object(P.jsx)(k.a,{onClose:b,onOpen:n,title:"\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0443",children:Object(P.jsx)(E.a,{onClose:b})})]})}),j&&Object(P.jsx)(A.a,{})]})}},98:function(e,t,n){"use strict";n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return f}));var c=n(18),r=n.n(c),a=n(10),o=n(24),i=n(14),s=n.n(i),l=n(41),u=n(5),d=function(e){s.a.defaults.headers.common.Authorization="Bearer ".concat(e)},j=function e(t){return function(){var n=Object(o.a)(r.a.mark((function n(c){var o,i,d;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(Object(u.e)()),n.prev=1,n.next=4,s.a.post("/project",t);case 4:o=n.sent,i=o.data,d=i.id,delete i.id,c(Object(u.f)(Object(a.a)(Object(a.a)({},i),{},{_id:d}))),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),c(Object(u.d)(n.t0.message)),Object(l.a)((function(){return e(t)}),n.t0,c);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},b=function e(){return function(){var t=Object(o.a)(r.a.mark((function t(n,c){var a,o,i,j;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c(),o=a.auth.token,d(o),n(Object(u.n)()),t.prev=3,t.next=6,s.a.get("/project");case 6:i=t.sent,j=i.data,n(Object(u.o)(j)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),n(Object(u.m)(t.t0.message)),Object(l.a)(e,t.t0,n);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()},p=function e(t,n){return function(){var c=Object(o.a)(r.a.mark((function c(a){var o,i;return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a(Object(u.b)()),c.prev=1,c.next=4,s.a.patch("/project/contributor/".concat(t),n);case 4:o=c.sent,i=o.data,a(Object(u.c)({members:i.newMembers,projectId:t})),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(Object(u.a)(c.t0.message)),Object(l.a)((function(){return e(t,n)}),c.t0,a);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})));return function(e){return c.apply(this,arguments)}}()},m=function e(t,n){return function(){var c=Object(o.a)(r.a.mark((function c(a){return r.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a(Object(u.h)()),c.prev=1,c.next=4,s.a.patch("/project/title/".concat(t),{title:n});case 4:a(Object(u.i)({projectId:t,title:n})),c.next=11;break;case 7:c.prev=7,c.t0=c.catch(1),a(Object(u.g)(c.t0.message)),Object(l.a)((function(){return e(t,n)}),c.t0,a);case 11:case"end":return c.stop()}}),c,null,[[1,7]])})));return function(e){return c.apply(this,arguments)}}()},f=function e(t){return function(){var n=Object(o.a)(r.a.mark((function n(c){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(Object(u.k)()),n.prev=1,n.next=4,s.a.delete("/project/".concat(t));case 4:c(Object(u.l)(t)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),c(Object(u.j)(n.t0.message)),Object(l.a)((function(){return e(t)}),n.t0,c);case 11:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}},99:function(e,t,n){"use strict";t.a=n.p+"static/media/symbol-defs.b8a53153.svg"}}]);
//# sourceMappingURL=projects-page.2b16ae7a.chunk.js.map